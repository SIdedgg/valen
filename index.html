<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Beautiful Princess</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background: #fffafa;
            color: #4a4a4a;
            overflow-x: hidden;
            touch-action: manipulation;
        }
        .dancing { font-family: 'Dancing Script', cursive; }
        .page { display: none; min-height: 100vh; flex-direction: column; align-items: center; justify-content: center; padding: 20px; text-align: center; }
        .page.active { display: flex; animation: fadeIn 0.8s ease-out; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .heart-float { position: fixed; pointer-events: none; z-index: 50; }
        
        .romantic-btn {
            background: #ff6b6b;
            color: white;
            padding: 15px 40px;
            border-radius: 50px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }
        .romantic-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
            background: #ff5252;
        }

        .photo-frame {
            border: 10px solid white;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            background: #fff;
            transition: transform 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .photo-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        #flappy-canvas {
            background: linear-gradient(to bottom, #fff1f2, #ffe4e6);
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            touch-action: none;
            cursor: pointer;
        }

        .spam-text {
            position: absolute;
            white-space: nowrap;
            font-weight: bold;
            pointer-events: none;
            z-index: 10;
            animation: popIn 0.5s ease-out forwards;
        }

        @keyframes popIn {
            0% { transform: scale(0); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        #game-overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255, 255, 255, 0.85);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 20px;
            z-index: 10;
            padding: 20px;
        }
    </style>
</head>
<body>

    <!-- ============================================================ -->
    <!-- üéµ SONG SETTING: PASTE YOUR SONG LINK IN THE SRC BELOW üéµ -->
    <!-- ============================================================ -->
    <audio id="bg-music" loop>
        <source src=https://www.dropbox.com/scl/fi/j6qupht8rfvbd26zk30o6/K.-Cigarettes-After-Sex.mp3?rlkey=5yw6w5p77lgldhppdjuyw8qmo&st=xbw3hpx5&dl=1 type="audio/mp3">
    </audio>

    <!-- 1. INTRO -->
    <div id="page1" class="page active">
        <h1 class="text-6xl md:text-8xl dancing text-rose-500 mb-6">Hey babe! ‚ù§Ô∏è</h1>
        <p class="text-xl text-gray-500 mb-10 max-w-md italic">A little something special for my favorite person...</p>
        <button onclick="startExperience()" class="romantic-btn">Open My Heart ‚ú®</button>
    </div>

    <!-- 2. INTERACTIVE: THE SEARCH -->
    <div id="page2" class="page">
        <h2 id="game-title" class="text-4xl dancing text-rose-500 mb-4">First, Catch My Heart</h2>
        <p id="game-desc" class="text-gray-400 mb-8 italic">Find 10 items to continue</p>
        <div id="heart-game-container" class="relative w-full max-w-lg h-96 bg-white rounded-3xl shadow-inner overflow-hidden border-2 border-rose-50 flex items-center justify-center">
        </div>
        <div class="mt-6 font-bold text-rose-300 tracking-widest">Found: <span id="score">0</span> / 10</div>
    </div>

    <!-- 3. MINI GAME: FLAPPY HEART -->
    <div id="page-flappy" class="page">
        <h2 class="text-4xl dancing text-rose-500 mb-4">Fly to My Heart</h2>
        <p class="text-gray-400 mb-6 italic">Score 10 to unlock the gallery</p>
        <div class="relative">
            <canvas id="flappy-canvas" width="320" height="480"></canvas>
            <div id="game-overlay">
                <p id="overlay-text" class="text-rose-500 font-bold text-2xl mb-4 dancing">Are you ready?</p>
                <button id="start-flappy-btn" class="romantic-btn py-2 px-6">Press to Start</button>
            </div>
        </div>
        <div id="flappy-ui" class="mt-4 font-bold text-rose-400 text-xl">Score: <span id="flappy-score">0</span></div>
    </div>

    <!-- 4. SILLY GALLERY -->
    <div id="page3" class="page">
        <h2 class="text-5xl dancing text-rose-500 mb-12">Just US being silly</h2>
        <div class="flex flex-col md:flex-row gap-8 items-center">
            <div class="flex flex-col items-center">
                <!-- üì∏ PICTURE OF YOU (ME) -->
                <div class="photo-frame w-64 h-80 -rotate-3">
                    <img src=https://www.dropbox.com/scl/fi/cjo6ujxpcdprjqfh35tk1/s1image.jpg?rlkey=em740txons04dd4ufjgj5wz5j&st=p9fwfj7q&dl=1 alt="Me">
                </div>
                <p class="mt-4 font-bold text-rose-400">Me</p>
            </div>
            <div class="text-4xl text-rose-300 animate-bounce">‚ù§Ô∏è</div>
            <div class="flex flex-col items-center">
                <!-- üì∏ PICTURE OF HER (YOU) -->
                <div class="photo-frame w-64 h-80 rotate-3">
                    <img src=https://www.dropbox.com/scl/fi/8lhgdes1i9jwesi3lbmva/s2image.jpg?rlkey=hjgrgk7wil9zupaehap9vuqk6&st=i32skyng&dl=1 alt="You">
                </div>
                <p class="mt-4 font-bold text-rose-400">You</p>
            </div>
        </div>
        <button onclick="nextPage(4)" class="mt-16 romantic-btn">More Beauty Ahead ‚û°</button>
    </div>

    <!-- 5. BEAUTY GALLERY -->
    <div id="page4" class="page">
        <h2 class="text-5xl dancing text-rose-500 mb-12">You're the reason my heart pumps blood cutie :3</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- üì∏ BEAUTY PHOTO 1 -->
            <div class="photo-frame w-72 h-72 rotate-2">
                <img src=https://www.dropbox.com/scl/fi/3zzh4kt63axep3mtnnpqo/b1image.jpg?rlkey=v0gvyynx54b4diaxheoaz9fq4&st=j2ou6x28&dl=1 alt="AAAAAA!">
            </div>
            <!-- üì∏ BEAUTY PHOTO 2 -->
            <div class="photo-frame w-72 h-72 -rotate-2">
                <img src=https://www.dropbox.com/scl/fi/1cphyvhjd7xss6rradn0o/b2image.jpg?rlkey=k9atxeobrnh717bryeaaunnc0&st=ppmq1cs5&dl=1 alt="Melting rn">
            </div>
        </div>
        <button onclick="nextPage(5)" class="mt-16 romantic-btn">To the beach... </button>
    </div>

    <!-- 6. BEACH SECTION -->
    <div id="page5" class="page bg-rose-50">
        <div class="max-w-4xl glass-card p-10">
            <h2 class="text-4xl dancing text-rose-600 mb-2">Even the beach knows how much i love you</h2>
            <p class="text-rose-400 italic mb-8">I wanted to etch our names somewhere the world could see, even if it's just for a moment...</p>
            <div class="flex flex-col md:flex-row gap-8 items-center justify-center">
                <!-- üì∏ BEACH PHOTO 1 -->
                <div class="photo-frame w-64 h-96">
                    <img src=https://www.dropbox.com/scl/fi/m4hve1wbk92s8ygfieqjt/w1image.jpg?rlkey=vtxa0tkkpp954t6mxm2j51r6i&st=sja33dev&dl=1 alt="Beach 1">
                </div>
                <!-- üì∏ BEACH PHOTO 2 -->
                <div class="photo-frame w-64 h-96">
                    <img src=https://www.dropbox.com/scl/fi/vxmiy5yi6wimjxapxurto/w2image.jpg?rlkey=e3xdfxvjetfnepodwal7fyomw&st=dsh2lt19&dl=1 alt="Beach 2">
                </div>
            </div>
            <button onclick="nextPage(6)" class="mt-10 romantic-btn">My Final Message üíå</button>
        </div>
    </div>

    <!-- 7. THE LETTER -->
    <div id="page6" class="page">
        <div class="max-w-2xl bg-white p-10 md:p-16 rounded-[40px] shadow-2xl text-left relative border-b-8 border-rose-400">
            <div class="absolute -top-5 -right-5 text-6xl transform rotate-12">üå∑</div>
            <h2 class="text-4xl dancing text-rose-500 mb-8">To my beautiful princess, Patrycja,</h2>
            <div class="space-y-6 text-gray-600 leading-relaxed text-lg">
                <p>Happy Valentine's Day my love. I wanted to make sure you felt extra special today because you mean everything to me.</p>
                <p>I hope you really liked the tulips I got you, I know they were the ones you specifically wanted, and I just want to give you every little thing that makes you happy. You deserve the world.</p>
                <p>Life is so much more colorful with you in it. Your energy, your laugh, and even our silly moments are what keep me going. I miss you every single day that we're apart, but knowing you're mine makes it all worth it.</p>
                <p>Thank you for being you. You're my heart, my soul, and my favorite adventure.</p>
            </div>
            <div class="mt-12 text-right">
                <p class="dancing text-3xl text-rose-500 font-bold">Forever yours,</p>
                <p class="text-gray-400 text-xs tracking-widest uppercase mt-2">Your bomboclatic loving creature,</p>
                <p class="dancing text-4xl text-rose-600 mt-1">Aymane</p>
            </div>
            <button onclick="startLoveSpam()" class="mt-12 w-full romantic-btn">Yippeeeeeeüíñ</button>
        </div>
    </div>

    <!-- 8. LOVE SPAM PAGE -->
    <div id="page7" class="page bg-rose-100 relative overflow-hidden">
        <h2 class="text-5xl dancing text-rose-600 z-20 bg-white/80 px-8 py-4 rounded-full shadow-lg">YOU ARE MY EVERYTHING!</h2>
        <div id="spam-container" class="absolute inset-0 w-full h-full pointer-events-none"></div>
    </div>

    <script>
        let currentScore = 0;
        let gameStage = 'hearts'; 
        let flappyActive = false;
        let flappyRunning = false;

        function startExperience() {
            const music = document.getElementById('bg-music');
            if (music && music.querySelector('source').getAttribute('src') !== "PASTE_YOUR_SONG_URL_HERE.mp3") {
                music.play().catch(e => console.log("Audio play blocked"));
            }
            nextPage(2);
        }

        function nextPage(num) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            const pageId = num === 'flappy' ? 'page-flappy' : `page${num}`;
            const targetPage = document.getElementById(pageId);
            if (targetPage) targetPage.classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });

            if(num === 2) { gameStage = 'hearts'; startGame(); }
            if(num === 'flappy') initFlappy();
        }

        function startGame() {
            const container = document.getElementById('heart-game-container');
            container.innerHTML = '';
            currentScore = 0;
            document.getElementById('score').innerText = '0';
            updateGameUI();
            spawnItems();
        }

        function updateGameUI() {
            const title = document.getElementById('game-title');
            const desc = document.getElementById('game-desc');
            if (gameStage === 'hearts') {
                title.innerText = "First, Catch My Heart";
                desc.innerText = `Find 10 hearts to continue`;
            } else if (gameStage === 'tulips') {
                title.innerText = "Now, Pick Some Tulips";
                desc.innerText = `Find 10 tulips for your bouquet`;
            } else if (gameStage === 'sunflowers') {
                title.innerText = "Finally, Some Sunshine";
                desc.innerText = `Find 10 sunflowers for my sun`;
            }
        }

        function spawnItems() {
            const container = document.getElementById('heart-game-container');
            const items = { hearts: ['‚ù§Ô∏è', 'üíñ'], tulips: ['üå∑'], sunflowers: ['üåª'] };
            const currentItems = items[gameStage];

            const spawnOne = () => {
                if(currentScore >= 10) return;
                const item = document.createElement('div');
                item.innerHTML = currentItems[Math.floor(Math.random() * currentItems.length)];
                item.style.position = 'absolute';
                item.style.fontSize = '44px';
                item.style.cursor = 'pointer';
                item.style.left = Math.random() * 80 + 10 + '%';
                item.style.top = Math.random() * 80 + 10 + '%';
                item.className = 'animate-bounce transition-transform hover:scale-125 select-none';
                
                item.onclick = (e) => {
                    currentScore++;
                    document.getElementById('score').innerText = currentScore;
                    item.remove();
                    confetti({ particleCount: 10, spread: 50, origin: { x: e.clientX/window.innerWidth, y: e.clientY/window.innerHeight } });

                    if(currentScore >= 10) {
                        container.innerHTML = '';
                        if (gameStage === 'hearts') { 
                            gameStage = 'tulips'; 
                            setTimeout(startGame, 600); 
                        }
                        else if (gameStage === 'tulips') { 
                            gameStage = 'sunflowers'; 
                            setTimeout(startGame, 600); 
                        }
                        else { 
                            setTimeout(() => nextPage('flappy'), 600); 
                        }
                    } else { spawnOne(); }
                };
                container.appendChild(item);
            };
            for(let i=0; i<3; i++) spawnOne();
        }

        function initFlappy() {
            const canvas = document.getElementById('flappy-canvas');
            const ctx = canvas.getContext('2d');
            const overlay = document.getElementById('game-overlay');
            const overlayText = document.getElementById('overlay-text');
            const startBtn = document.getElementById('start-flappy-btn');
            
            let score = 0;
            let birdY = 240;
            let velocity = 0;
            let pipes = [];
            let frame = 0;
            
            flappyActive = true;
            flappyRunning = false;
            overlay.style.display = 'flex';

            startBtn.onclick = (e) => {
                e.stopPropagation();
                flappyRunning = true;
                overlay.style.display = 'none';
                reset();
                draw();
            };

            function draw() {
                if(!flappyActive || !flappyRunning) return;
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                velocity += 0.25;
                birdY += velocity;
                ctx.font = "30px Arial";
                ctx.fillText("‚ù§Ô∏è", 50, birdY);

                if(frame % 95 === 0) {
                    const gap = 165;
                    const topH = Math.random() * (canvas.height - gap - 100) + 50;
                    pipes.push({ x: canvas.width, top: topH, bottom: canvas.height - topH - gap });
                }

                pipes.forEach((p) => {
                    p.x -= 2.5;
                    ctx.fillStyle = "#fda4af";
                    ctx.fillRect(p.x, 0, 50, p.top);
                    ctx.fillRect(p.x, canvas.height - p.bottom, 50, p.bottom);

                    if(50 + 20 > p.x && 50 < p.x + 50) {
                        if(birdY - 15 < p.top || birdY > canvas.height - p.bottom) {
                            flappyRunning = false;
                            overlay.style.display = 'flex';
                            overlayText.innerText = "Oops! Try again?";
                        }
                    }
                    if(p.x === 50) {
                        score++;
                        document.getElementById('flappy-score').innerText = score;
                        if(score >= 10) {
                            flappyActive = false;
                            flappyRunning = false;
                            overlay.style.display = 'flex';
                            overlayText.innerText = "You did it S≈Çoneczko! ‚ù§Ô∏è";
                            startBtn.style.display = 'none';
                            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
                            setTimeout(() => nextPage(3), 2200);
                        }
                    }
                });

                pipes = pipes.filter(p => p.x > -50);
                if(birdY > canvas.height || birdY < 0) {
                    flappyRunning = false;
                    overlay.style.display = 'flex';
                    overlayText.innerText = "Oops! Try again?";
                }
                frame++;
                requestAnimationFrame(draw);
            }

            function reset() {
                birdY = 240; velocity = 0; pipes = []; score = 0; frame = 0;
                document.getElementById('flappy-score').innerText = score;
            }

            canvas.onpointerdown = (e) => { 
                e.preventDefault(); 
                if(flappyRunning) velocity = -5; 
            };
        }

        function startLoveSpam() {
            nextPage(7);
            const end = Date.now() + 15000;
            (function frame() {
                confetti({ particleCount: 3, angle: 60, spread: 55, origin: { x: 0 } });
                confetti({ particleCount: 3, angle: 120, spread: 55, origin: { x: 1 } });
                if (Date.now() < end) requestAnimationFrame(frame);
            }());

            const phrases = ["I LOVE YOU", "I ADORE YOU", "MY BABY", "MY PRINCESS", "MY HEART", "MY EVERYTHING"];
            const container = document.getElementById('spam-container');
            setInterval(() => {
                const text = document.createElement('div');
                text.className = 'spam-text dancing';
                text.innerText = phrases[Math.floor(Math.random() * phrases.length)];
                text.style.left = Math.random() * 90 + '%';
                text.style.top = Math.random() * 90 + '%';
                text.style.color = ['#f43f5e', '#be123c', '#fb7185'][Math.floor(Math.random()*3)];
                text.style.fontSize = (Math.random() * 30 + 20) + 'px';
                container.appendChild(text);
                if (container.children.length > 50) container.removeChild(container.firstChild);
            }, 200);
        }

        setInterval(() => {
            const heart = document.createElement('div');
            heart.innerHTML = '‚ù§Ô∏è';
            heart.className = 'heart-float opacity-20';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.bottom = '-5vh';
            document.body.appendChild(heart);
            heart.animate([{ transform: 'translateY(0)' }, { transform: 'translateY(-110vh)' }], 8000).onfinish = () => heart.remove();
        }, 1500);

    </script>
</body>

</html>

